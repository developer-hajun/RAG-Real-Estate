<script setup>
import { ref } from 'vue';
import { useRouter } from 'vue-router';

const router = useRouter();
const keyword = ref('');

const goSearch = () => {
  if (keyword.value.trim()) {
    router.push({ path: '/map', query: { q: keyword.value } });
  }
};
</script>

<template>
  <div class="home-container">
    <section class="hero-section">
      <h1 class="main-title">
        ì–´ë–¤ ì§‘ì„ ì°¾ê³  ê³„ì‹ ê°€ìš”?<br>
        <span class="highlight">Toss Estate</span>ì—ì„œ ì‹œì‘í•˜ì„¸ìš”.
      </h1>

      <div class="search-wrapper glass">
        <span class="search-icon">ğŸ”</span>
        <input 
          v-model="keyword"
          class="search-input" 
          placeholder="ì§€ì—­, ì§€í•˜ì² ì—­, ì•„íŒŒíŠ¸ ê²€ìƒ‰"
          @keyup.enter="goSearch"
        >
        <button class="search-btn" @click="goSearch">ê²€ìƒ‰</button>
      </div>
    </section>

    <section class="menu-section">
      <div class="card hoverable menu-card" @click="router.push('/map')">
        <div class="icon-box blue-bg">ğŸ“</div>
        <div class="text-box">
          <h3>ì§€ë„ ì°¾ê¸°</h3>
          <p>ì§€ë„ë¡œ í•œëˆˆì— ë§¤ë¬¼ ë³´ê¸°</p>
        </div>
      </div>

      <div class="card hoverable menu-card" @click="router.push('/community')">
        <div class="icon-box green-bg">ğŸ’¬</div>
        <div class="text-box">
          <h3>ì»¤ë®¤ë‹ˆí‹°</h3>
          <p>ì‹¤ê±°ì£¼ìì˜ ìƒìƒ í›„ê¸°</p>
        </div>
      </div>

      <div class="card hoverable menu-card" @click="router.push('/my')">
        <div class="icon-box purple-bg">ğŸ‘¤</div>
        <div class="text-box">
          <h3>ë§ˆì´í˜ì´ì§€</h3>
          <p>ë‚´ ìì‚°ê³¼ ê´€ì‹¬ ë§¤ë¬¼</p>
        </div>
      </div>
    </section>
  </div>
</template>

<style scoped>
/* ì „ì²´ ì»¨í…Œì´ë„ˆ: ì¤‘ì•™ ì •ë ¬ì„ ìœ„í•œ ì„¤ì • */
.home-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: calc(100vh - 80px); /* í—¤ë” ì œì™¸ ë†’ì´ */
  padding: 0 20px;
  background: linear-gradient(180deg, #F2F4F6 0%, #FFFFFF 100%); /* ì€ì€í•œ ê·¸ë¼ë°ì´ì…˜ */
}

/* íˆì–´ë¡œ ì„¹ì…˜ (ì œëª© + ê²€ìƒ‰ì°½) */
.hero-section {
  text-align: center;
  margin-bottom: 60px;
  width: 100%;
  max-width: 720px;
  animation: slideUp 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
}

.main-title {
  font-size: 42px;
  font-weight: 800;
  line-height: 1.3;
  margin-bottom: 40px;
  color: var(--c-text-1);
  letter-spacing: -0.5px;
}

.highlight {
  color: var(--c-brand);
}

/* ê²€ìƒ‰ì°½ ìŠ¤íƒ€ì¼ (ë‘¥ê·¼ Pill ëª¨ì–‘) */
.search-wrapper {
  display: flex;
  align-items: center;
  background: white;
  padding: 8px 8px 8px 24px;
  border-radius: 100px; /* ì™„ì „ ë‘¥ê¸€ê²Œ */
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08); /* ë¶€ë“œëŸ¬ìš´ ê·¸ë¦¼ì */
  transition: transform 0.3s, box-shadow 0.3s;
  border: 1px solid transparent;
}

.search-wrapper:focus-within {
  transform: translateY(-2px);
  box-shadow: 0 15px 40px rgba(0, 100, 255, 0.15);
  border-color: var(--c-brand-light);
}

.search-icon {
  font-size: 20px;
  margin-right: 12px;
  opacity: 0.5;
}

.search-input {
  flex: 1;
  font-size: 18px;
  border: none;
  outline: none;
  background: transparent;
  color: var(--c-text-1);
}
.search-input::placeholder {
  color: var(--c-text-4);
}

.search-btn {
  background: var(--c-brand);
  color: white;
  border: none;
  padding: 12px 28px;
  border-radius: 50px;
  font-size: 16px;
  font-weight: 700;
  cursor: pointer;
  transition: background 0.2s;
}
.search-btn:hover {
  background: var(--c-brand-dark);
}

/* ë©”ë‰´ ì¹´ë“œ ê·¸ë¦¬ë“œ */
.menu-section {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* ë°˜ì‘í˜• ê·¸ë¦¬ë“œ */
  gap: 20px;
  width: 100%;
  max-width: 900px;
  animation: slideUp 0.8s 0.2s cubic-bezier(0.2, 0.8, 0.2, 1) backwards;
}

.menu-card {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 24px;
  border-radius: 24px;
  background: white;
  box-shadow: 0 4px 20px rgba(0,0,0,0.03);
  cursor: pointer;
  transition: all 0.3s ease;
  border: 1px solid #f0f0f0;
}

.menu-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 30px rgba(0,0,0,0.08);
}

.icon-box {
  width: 56px;
  height: 56px;
  border-radius: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 28px;
}
.blue-bg { background: #E8F3FF; }
.green-bg { background: #E6FCF5; }
.purple-bg { background: #F3F0FF; }

.text-box h3 {
  font-size: 18px;
  font-weight: 700;
  margin-bottom: 4px;
  color: var(--c-text-1);
}
.text-box p {
  font-size: 14px;
  color: var(--c-text-3);
}

/* ì• ë‹ˆë©”ì´ì…˜ í‚¤í”„ë ˆì„ */
@keyframes slideUp {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}

/* ëª¨ë°”ì¼ ëŒ€ì‘ */
@media (max-width: 600px) {
  .main-title { font-size: 28px; }
  .menu-section { grid-template-columns: 1fr; }
  .search-input { font-size: 15px; }
}
</style>